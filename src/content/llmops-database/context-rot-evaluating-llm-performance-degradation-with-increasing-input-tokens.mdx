---
title: "Context Rot: Evaluating LLM Performance Degradation with Increasing Input Tokens"
slug: "context-rot-evaluating-llm-performance-degradation-with-increasing-input-tokens"
draft: false
webflow:
  siteId: "64a817a2e7e2208272d1ce30"
  itemId: "687dfecf8eec2f7d38139b69"
  exportedAt: "2026-02-11T10:23:34.071Z"
  source: "live"
  lastPublished: "2025-12-23T12:21:17.478Z"
  lastUpdated: "2025-12-18T17:15:18.990Z"
  createdOn: "2025-07-21T08:48:15.436Z"
llmopsTags:
  - "question-answering"
  - "document-processing"
  - "summarization"
  - "chatbot"
  - "classification"
  - "unstructured-data"
  - "embeddings"
  - "semantic-search"
  - "vector-search"
  - "prompt-engineering"
  - "few-shot"
  - "chunking"
  - "reranking"
  - "chromadb"
  - "pinecone"
  - "qdrant"
  - "elasticsearch"
  - "pytorch"
  - "tensorflow"
  - "fastapi"
  - "langchain"
  - "llama-index"
  - "spacy"
  - "wandb"
  - "anthropic"
  - "openai"
  - "google-gcp"
  - "meta"
  - "hugging-face"
company: "ChromaDB"
summary: "ChromaDB's technical report examines how large language models (LLMs) experience performance degradation as input context length increases, challenging the assumption that models process context uniformly. Through evaluation of 18 state-of-the-art models including GPT-4.1, Claude 4, Gemini 2.5, and Qwen3 across controlled experiments, the research reveals that model reliability decreases significantly with longer inputs, even on simple tasks like retrieval and text replication. The study demonstrates that factors like needle-question similarity, presence of distractors, haystack structure, and semantic relationships all impact performance non-uniformly as context length grows, suggesting that current long-context benchmarks may not adequately reflect real-world performance challenges."
link: "https://research.trychroma.com/context-rot"
year: 2025
seo:
  title: "ChromaDB: Context Rot: Evaluating LLM Performance Degradation with Increasing Input Tokens - ZenML LLMOps Database"
  description: "ChromaDB's technical report examines how large language models (LLMs) experience performance degradation as input context length increases, challenging the assumption that models process context uniformly. Through evaluation of 18 state-of-the-art models including GPT-4.1, Claude 4, Gemini 2.5, and Qwen3 across controlled experiments, the research reveals that model reliability decreases significantly with longer inputs, even on simple tasks like retrieval and text replication. The study demonstrates that factors like needle-question similarity, presence of distractors, haystack structure, and semantic relationships all impact performance non-uniformly as context length grows, suggesting that current long-context benchmarks may not adequately reflect real-world performance challenges."
  canonical: "https://www.zenml.io/llmops-database/context-rot-evaluating-llm-performance-degradation-with-increasing-input-tokens"
  ogTitle: "ChromaDB: Context Rot: Evaluating LLM Performance Degradation with Increasing Input Tokens - ZenML LLMOps Database"
  ogDescription: "ChromaDB's technical report examines how large language models (LLMs) experience performance degradation as input context length increases, challenging the assumption that models process context uniformly. Through evaluation of 18 state-of-the-art models including GPT-4.1, Claude 4, Gemini 2.5, and Qwen3 across controlled experiments, the research reveals that model reliability decreases significantly with longer inputs, even on simple tasks like retrieval and text replication. The study demonstrates that factors like needle-question similarity, presence of distractors, haystack structure, and semantic relationships all impact performance non-uniformly as context length grows, suggesting that current long-context benchmarks may not adequately reflect real-world performance challenges."
---

ChromaDB's technical report presents a comprehensive evaluation of how large language models handle increasing input token counts, revealing critical insights for LLMOps practitioners deploying these models in production environments. The research addresses a fundamental assumption in the field: that LLMs process context uniformly regardless of input length. This assumption has significant implications for production deployments where models are expected to maintain consistent performance across varying context sizes.

The study evaluated 18 leading models including GPT-4.1, Claude 4 (Opus and Sonnet variants), Gemini 2.5 Pro and Flash, and Qwen3 models across multiple dimensions. The research methodology was deliberately designed to isolate input length as the primary variable while keeping task complexity constant, addressing a common limitation in existing benchmarks where longer inputs often correlate with increased task difficulty.

The foundational experiment extended the widely-used Needle in a Haystack (NIAH) benchmark, which typically involves placing a known sentence in a long document and asking the model to retrieve it. While models generally perform well on standard NIAH tasks, the researchers identified that this benchmark primarily tests lexical retrieval rather than the semantic understanding required in real-world applications. Their extensions revealed significant performance degradation patterns that have direct implications for production deployments.

One of the most critical findings for LLMOps practitioners relates to needle-question similarity. The research demonstrated that as the semantic similarity between the target information and the query decreases, performance degradation accelerates with increasing input length. This finding is particularly relevant for production systems where users rarely provide exact keyword matches for the information they seek. Instead, real-world queries often require semantic inference and understanding of ambiguous requests. The researchers quantified this using cosine similarity across five embedding models (text-embedding-3-small/large, jina-embeddings-v3, voyage-3-large, and all-MiniLM-L6-v2) to ensure robustness in their measurements.

The impact of distractors presents another crucial consideration for production deployments. The study found that even state-of-the-art models experienced performance degradation when confronted with semantically similar but incorrect information, particularly as input length increased. This degradation was non-uniform across different types of distractors, with some proving more confusing to models than others. The research revealed interesting behavioral differences between model families: Claude models showed more conservative behavior, often abstaining when uncertain, while GPT models demonstrated higher hallucination rates under ambiguous conditions. This has direct implications for choosing models for specific production use cases where reliability and error patterns matter.

Perhaps most surprisingly, the research found that haystack structure significantly impacts performance in ways that challenge intuitive understanding. Models consistently performed better on randomly shuffled text than on logically structured documents, suggesting that the attention mechanisms may be influenced by structural patterns in unexpected ways. This finding has immediate practical implications for how documents should be prepared for long-context processing in production systems.

The needle-haystack similarity experiments revealed complex interactions that don't follow simple patterns. When testing needles that semantically blended with their surrounding context versus those that stood out, the results varied non-uniformly across different topic combinations. This suggests that the relationship between the target information and surrounding context affects retrieval performance in ways that aren't yet fully understood, making it challenging to predict model behavior in diverse production scenarios.

The LongMemEval experiments provided insights particularly relevant to conversational AI deployments. The benchmark simulates realistic chat assistant scenarios where models must retrieve relevant information from long conversation histories while performing reasoning tasks. The stark performance difference between focused inputs (containing only relevant information) and full inputs (including irrelevant context) demonstrates the computational cost of requiring models to perform both retrieval and reasoning simultaneously. This finding is crucial for production systems that maintain conversation history, suggesting that preprocessing to identify relevant context may be necessary for maintaining performance.

The repeated words experiment revealed fundamental limitations in models' ability to maintain consistency even on trivial tasks as output length scales with input length. Since these models are autoregressive, each generated token becomes part of the input for subsequent tokens, creating a compounding effect. The experiment showed that models struggled to maintain accuracy in simple text replication tasks as length increased, with different model families exhibiting distinct failure patterns. Some models began generating random words not present in the input, while others showed position-dependent accuracy patterns or reached output token limits prematurely.

From an operational perspective, the research identified several model-specific behaviors that have direct implications for production deployment decisions. Claude models, particularly Opus 4 and Sonnet 4, showed conservative behavior under uncertainty, often explicitly stating when they couldn't find answers rather than hallucinating. GPT models demonstrated more confident but potentially incorrect responses when faced with ambiguous situations. Gemini models showed high variability in outputs, particularly in the repeated words task, while Qwen models exhibited different types of failure modes including occasional refusals to attempt tasks.

The evaluation methodology itself provides valuable insights for LLMOps practitioners designing their own testing frameworks. The researchers used an aligned GPT-4.1 judge for evaluation, achieving greater than 99% alignment with human judgment through iterative prompt refinement. This approach demonstrates the viability of using LLM-based evaluation for scalable testing while maintaining reliability. The temperature=0 setting across most models (with exceptions for models like o3 where this wasn't compatible) ensured reproducible results, though the researchers noted that "thinking mode" capabilities, when available, generally improved performance on both focused and full prompt conditions.

The technical infrastructure requirements for conducting such comprehensive evaluations highlight the challenges of thorough LLM testing in production environments. The study involved testing across 8 input lengths and 11 needle positions for each unique combination of conditions, resulting in 194,480 total LLM calls. This scale of evaluation, while necessary for robust conclusions, represents a significant computational and financial investment that production teams must consider when designing their own evaluation frameworks.

The research also revealed important limitations in current benchmarking approaches. Many existing long-context evaluations conflate input length with task difficulty, making it impossible to isolate the effects of context length alone. The researchers' controlled approach of maintaining constant task complexity while varying only input length provides a more accurate assessment of how models actually behave in production scenarios where context length varies independently of task difficulty.

For production deployment strategies, the findings suggest that context engineering - the careful construction and management of model context windows - is crucial for maintaining reliable performance. The research demonstrates that not only the presence of relevant information matters, but how and where that information is presented within the context window significantly impacts model performance. This has implications for document preprocessing, information retrieval systems, and prompt construction strategies in production applications.

The study's findings on context window utilization efficiency also have direct cost implications for production deployments. As models struggle to effectively use their full context windows, organizations may be paying for computational resources that don't translate to proportional performance improvements. Understanding these limitations can inform decisions about model selection, context window sizing, and preprocessing strategies to optimize both performance and cost.

Looking forward, the research identifies several areas requiring further investigation that are directly relevant to production LLMOps practices. The need for more realistic long-context benchmarks that better represent production workloads is evident, as is the importance of understanding the mechanistic reasons behind observed performance degradations. The researchers suggest that mechanistic interpretability research could provide insights into attention mechanism behavior with structured inputs, potentially leading to better context engineering strategies.

While ChromaDB's research provides valuable insights into LLM behavior with long contexts, practitioners should view these findings as highlighting fundamental challenges rather than providing definitive solutions. The research demonstrates that current models, despite impressive capabilities on standard benchmarks, have significant limitations when deployed in real-world scenarios with varying context lengths and complexity. This underscores the importance of comprehensive testing, careful model selection, and robust monitoring in production LLMOps implementations.