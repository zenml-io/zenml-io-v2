---
/**
 * ZenML Pro marketing page.
 *
 * Route: /pro
 *
 * Long-form product marketing page: hero, logo trust bar, testimonials,
 * onboarding, feature showcases, compliance, OSS-vs-Pro grid, FAQ, and CTA.
 */
import BaseLayout from "../layouts/BaseLayout.astro";
import Button from "../components/Button.astro";
import FeatureValueSection from "../components/sections/FeatureValueSection.astro";
import FaqSection from "../components/sections/FaqSection.astro";
import VsCta02 from "../components/sections/VsCta02.astro";
import LogoCloud from "../components/sections/LogoCloud.astro";
import ProFeaturedTestimonial09 from "../components/sections/ProFeaturedTestimonial09.astro";
import ProTestimonial02 from "../components/sections/ProTestimonial02.astro";
import ProTestimonial15Section from "../components/sections/ProTestimonial15Section.astro";
import {
  PRO_SEO,
  PRO_HERO,
  PRO_TRUST_HEADLINE,
  PRO_FEATURED_TESTIMONIAL,
  PRO_ONBOARDING,
  PRO_FEATURES,
  PRO_COMPLIANCE,
  PRO_OSS_GRID,
  PRO_HASHICORP_TESTIMONIAL,
  PRO_TESTIMONIALS,
  PRO_FAQ,
  PRO_FINAL_CTA,
} from "../lib/pro";
---

<BaseLayout
  title={PRO_SEO.title}
  description={PRO_SEO.description}
  ogTitle={PRO_SEO.ogTitle}
  ogDescription={PRO_SEO.ogDescription}
  ogImage={PRO_SEO.ogImage}
>
  <main>
    {/* Hero */}
    <section class="bg-white pt-16 pb-12 sm:pt-24 sm:pb-16" data-reveal>
      <div class="mx-auto max-w-4xl px-4 text-center sm:px-6 lg:px-8">
        <h1 class="text-3xl font-bold text-gray-900 sm:text-4xl lg:text-5xl">
          {PRO_HERO.headline}
        </h1>
        <p class="mt-4 text-lg text-gray-600 leading-relaxed">
          {PRO_HERO.deck}
        </p>
        <div class="mt-8 flex flex-col items-center gap-3 sm:flex-row sm:justify-center">
          <Button href={PRO_HERO.primaryCta.href} size="lg">
            {PRO_HERO.primaryCta.label}
          </Button>
          {PRO_HERO.secondaryCta && (
            <Button href={PRO_HERO.secondaryCta.href} variant="secondary" size="lg">
              {PRO_HERO.secondaryCta.label}
            </Button>
          )}
        </div>
        {PRO_HERO.image && (
          <div class="mt-10" data-reveal>
            <img
              src={PRO_HERO.image.url}
              alt={PRO_HERO.image.alt}
              class="w-full rounded-xl"
              loading="eager"
            />
          </div>
        )}
      </div>
    </section>

    {/* Logo trust bar */}
    <LogoCloud
      label={PRO_TRUST_HEADLINE}
      bgClass="bg-white"
      fadeFromClass="from-white"
    />

    {/* Featured testimonial (Hema.to) */}
    <ProFeaturedTestimonial09
      quote={PRO_FEATURED_TESTIMONIAL.quote}
      name={PRO_FEATURED_TESTIMONIAL.name}
      title={PRO_FEATURED_TESTIMONIAL.title}
      image={PRO_FEATURED_TESTIMONIAL.avatar}
      companyLogo={PRO_FEATURED_TESTIMONIAL.companyLogo}
    />

    {/* "Get set up in less than a day" */}
    <section class="bg-gray-900 py-16 sm:py-20">
      <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
        <div data-reveal>
          <p class="text-sm font-semibold uppercase tracking-wider text-zenml-400">
            {PRO_ONBOARDING.eyebrow}
          </p>
          <h2 class="mt-2 text-2xl font-bold text-white sm:text-3xl">
            {PRO_ONBOARDING.headline}
          </h2>
          <p class="mt-3 text-lg text-gray-300 leading-relaxed">
            {PRO_ONBOARDING.body}
          </p>
        </div>
        <div class="mt-10 grid gap-6 sm:grid-cols-3">
          {PRO_ONBOARDING.items.map((item) => (
            <div class="rounded-lg border border-gray-700 bg-gray-800 p-6" data-reveal>
              <h3 class="text-lg font-semibold text-white">{item.title}</h3>
              <p class="mt-2 text-sm text-gray-300 leading-relaxed">{item.body}</p>
            </div>
          ))}
        </div>
        <div class="mt-8 flex flex-col items-start gap-3 sm:flex-row" data-reveal>
          <Button href={PRO_ONBOARDING.primaryCta.href} size="lg">
            {PRO_ONBOARDING.primaryCta.label}
          </Button>
          <Button href={PRO_ONBOARDING.secondaryCta.href} variant="secondary" size="lg">
            {PRO_ONBOARDING.secondaryCta.label}
          </Button>
        </div>
      </div>
    </section>

    {/* Pro cloud features (alternating image/text) */}
    <div id="cloud-features">
      {PRO_FEATURES.map((feature, i) => (
        <FeatureValueSection
          eyebrow={feature.eyebrow}
          title={feature.title}
          body={feature.body}
          learnMoreHref={feature.learnMoreHref}
          image={feature.image}
          imageSide={i % 2 === 0 ? "right" : "left"}
        />
      ))}
    </div>

    {/* Compliance: "Your VPC, your data" */}
    <section class="bg-white py-16 sm:py-20">
      <div class="mx-auto max-w-5xl px-4 text-center sm:px-6 lg:px-8" data-reveal>
        <p class="text-sm font-semibold uppercase tracking-wider text-zenml-500">
          {PRO_COMPLIANCE.eyebrow}
        </p>
        <h2 class="mt-2 text-2xl font-bold text-gray-900 sm:text-3xl">
          {PRO_COMPLIANCE.headline}
        </h2>
        <p class="mt-3 text-lg text-gray-600">{PRO_COMPLIANCE.body}</p>
        <div class="mt-8">
          <picture>
            <source media="(max-width: 767px)" srcset={PRO_COMPLIANCE.image.mobile.url} />
            <img
              src={PRO_COMPLIANCE.image.desktop.url}
              alt={PRO_COMPLIANCE.image.desktop.alt}
              class="w-full rounded-xl"
              loading="lazy"
            />
          </picture>
        </div>
        {/* SOC2/ISO banner */}
        <div class="mx-auto mt-8 max-w-[90%] rounded-xl border border-gray-300 bg-white p-6">
          <div class="flex flex-col items-center gap-6 sm:flex-row sm:items-center">
            <div class="flex flex-shrink-0 items-center gap-4">
              {PRO_COMPLIANCE.badges.map((badge) => (
                <img
                  src={badge.url}
                  alt={badge.alt}
                  class="w-auto max-w-[130px] object-contain"
                  loading="lazy"
                />
              ))}
            </div>
            <div class="text-left">
              <p class="text-xs font-semibold uppercase tracking-wider text-zenml-500">
                {PRO_COMPLIANCE.bannerEyebrow}
              </p>
              <h3 class="mt-1 text-lg font-semibold text-gray-900">
                {PRO_COMPLIANCE.bannerHeadline}
              </h3>
              <p class="mt-1 text-sm text-gray-600">{PRO_COMPLIANCE.bannerBody}</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    {/* "ZenML Pro is Open Source and More" feature grid */}
    <section class="bg-[#f5f8fd] py-16 sm:py-20">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="max-w-3xl" data-reveal>
          <p class="text-sm font-semibold uppercase tracking-wider text-zenml-500">
            {PRO_OSS_GRID.eyebrow}
          </p>
          <h2 class="mt-2 text-2xl font-bold text-gray-900 sm:text-3xl">
            {PRO_OSS_GRID.headline}
          </h2>
          <p class="mt-3 text-lg text-gray-600 leading-relaxed">{PRO_OSS_GRID.body}</p>
        </div>
        <div class="mt-10 grid items-center gap-10 lg:grid-cols-2">
          <div class="grid gap-6 sm:grid-cols-2">
            {PRO_OSS_GRID.items.map((item) => (
              <div class="rounded-lg bg-white p-6" data-reveal>
                <h3 class="text-lg font-semibold text-gray-900">{item.title}</h3>
                <p class="mt-2 text-sm text-gray-600 leading-relaxed">{item.body}</p>
              </div>
            ))}
          </div>
          <div class="flex justify-center" data-reveal>
            <img
              src={PRO_OSS_GRID.image.url}
              alt={PRO_OSS_GRID.image.alt}
              class="max-w-sm"
              loading="lazy"
            />
          </div>
        </div>
        <div class="mt-8 flex flex-col items-start gap-3 sm:flex-row">
          <Button href={PRO_OSS_GRID.primaryCta.href} size="lg">
            {PRO_OSS_GRID.primaryCta.label}
          </Button>
          <Button href={PRO_OSS_GRID.secondaryCta.href} variant="secondary" size="lg">
            {PRO_OSS_GRID.secondaryCta.label}
          </Button>
        </div>
      </div>
    </section>

    {/* HashiCorp testimonial (purple card) */}
    <ProTestimonial02
      quote={PRO_HASHICORP_TESTIMONIAL.quote}
      name={PRO_HASHICORP_TESTIMONIAL.name}
      title={PRO_HASHICORP_TESTIMONIAL.title}
      avatar={PRO_HASHICORP_TESTIMONIAL.avatar}
      companyLogo={PRO_HASHICORP_TESTIMONIAL.companyLogo}
      companyLogoAlt="HashiCorp"
    />

    {/* Testimonial carousel */}
    <ProTestimonial15Section testimonials={PRO_TESTIMONIALS} />

    {/* FAQ */}
    <FaqSection
      eyebrow={PRO_FAQ.eyebrow}
      headline={PRO_FAQ.headline}
      subheadline={PRO_FAQ.subheadline}
      items={PRO_FAQ.items}
      slackCta={PRO_FAQ.slackCta}
    />

    {/* Final CTA */}
    <VsCta02
      headline={PRO_FINAL_CTA.headline}
      bullets={PRO_FINAL_CTA.bullets}
      primaryCta={PRO_FINAL_CTA.primaryCta}
      secondaryCta={PRO_FINAL_CTA.secondaryCta}
      image={PRO_FINAL_CTA.image}
    />
  </main>
</BaseLayout>

{/* Scroll reveal: fade-in + slight upward slide on scroll */}
<style>
  [data-reveal] {
    opacity: 0;
    transform: translateY(16px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }
  [data-reveal].in-view {
    opacity: 1;
    transform: translateY(0);
  }
  @media (prefers-reduced-motion: reduce) {
    [data-reveal] {
      opacity: 1;
      transform: none;
      transition: none;
    }
  }
</style>

<script>
  const revealElements = document.querySelectorAll("[data-reveal]");
  if (revealElements.length > 0) {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("in-view");
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.1, rootMargin: "0px 0px -40px 0px" },
    );
    revealElements.forEach((el) => observer.observe(el));
  }
</script>
