---
/**
 * Careers page.
 *
 * Route: /careers
 *
 * Recruitment landing: hero with CTAs, mission section (photo + text),
 * "Why work here" grid, hiring process steps, and open positions.
 */
import BaseLayout from "../layouts/BaseLayout.astro";
import Button from "../components/Button.astro";
import {
  CAREERS_SEO,
  CAREERS_HERO,
  CAREERS_MISSION,
  CAREERS_WHY,
  CAREERS_HIRING_PROCESS,
} from "../lib/careers";
import { OPEN_POSITIONS } from "../lib/company";
---

<BaseLayout
  title={CAREERS_SEO.title}
  description={CAREERS_SEO.description}
  ogTitle={CAREERS_SEO.ogTitle}
  ogDescription={CAREERS_SEO.ogDescription}
  ogImage={CAREERS_SEO.ogImage}
>
  <main>
    {/* Hero */}
    <section class="bg-linear-to-t from-zenml-50 to-white border-b border-gray-200 pt-16 pb-12 sm:pt-24 sm:pb-16">
      <div class="mx-auto max-w-4xl px-4 text-center sm:px-6 lg:px-8">
        <p class="text-sm font-semibold uppercase tracking-wider text-zenml-500">
          {CAREERS_HERO.eyebrow}
        </p>
        <h1 class="mt-2 text-3xl font-bold text-gray-900 sm:text-4xl lg:text-5xl">
          {CAREERS_HERO.headline}
        </h1>
        <p class="mt-4 text-lg text-gray-600 leading-relaxed">
          {CAREERS_HERO.deck}
        </p>
        <div class="mt-8 flex flex-col items-center gap-3 sm:flex-row sm:justify-center">
          <Button href={CAREERS_HERO.primaryCta.href} variant="secondary" size="lg">
            {CAREERS_HERO.primaryCta.label}
          </Button>
          <Button href={CAREERS_HERO.secondaryCta.href} size="lg">
            {CAREERS_HERO.secondaryCta.label}
          </Button>
        </div>
      </div>
    </section>

    {/* Mission section â€” photo + text */}
    <section class="bg-white py-12 sm:py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <div class="grid items-center gap-10 lg:grid-cols-2">
          <img
            src={CAREERS_MISSION.image.url}
            alt={CAREERS_MISSION.image.alt}
            class="w-full rounded-md"
            loading="lazy"
          />
          <div>
            <h2 class="text-2xl font-bold text-gray-900 sm:text-3xl">
              {CAREERS_MISSION.headline}
            </h2>
            <div class="mt-4 text-gray-600 leading-relaxed" set:html={CAREERS_MISSION.body} />
            <div class="mt-6 flex flex-wrap gap-3">
              <Button
                href={CAREERS_MISSION.primaryCta.href}
                variant="secondary"
                size="lg"
                target="_blank"
                rel="noopener noreferrer"
              >
                {CAREERS_MISSION.primaryCta.label}
              </Button>
              <Button href={CAREERS_MISSION.secondaryCta.href} size="lg">
                {CAREERS_MISSION.secondaryCta.label}
              </Button>
            </div>
          </div>
        </div>
      </div>
    </section>

    {/* Why work here */}
    <section id="why-here" class="bg-gray-50 py-16 sm:py-20">
      <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
        <h2 class="text-center text-2xl font-bold text-gray-900 sm:text-3xl">
          {CAREERS_WHY.headline}
        </h2>
        <div class="mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {CAREERS_WHY.items.map((item) => (
            <div class="rounded-md bg-white p-6 shadow-sm">
              <h3 class="text-lg font-semibold text-gray-900">{item.title}</h3>
              <p class="mt-2 text-sm text-gray-600 leading-relaxed">{item.body}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    {/* Hiring process */}
    <section class="bg-white py-16 sm:py-20">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <h2 class="text-center text-2xl font-bold text-gray-900 sm:text-3xl">
          {CAREERS_HIRING_PROCESS.headline}
        </h2>
        <p class="mt-4 text-gray-600 leading-relaxed">{CAREERS_HIRING_PROCESS.intro}</p>
        <p class="mt-4 text-gray-600 leading-relaxed">{CAREERS_HIRING_PROCESS.afterIntro}</p>
        <div class="mt-10 grid gap-8 sm:grid-cols-2">
          {CAREERS_HIRING_PROCESS.steps.map((step) => (
            <div class="rounded-md border border-gray-200 bg-white p-6">
              <div class="flex h-10 w-10 items-center justify-center rounded-full border-2 border-zenml-500 text-lg font-bold text-zenml-500">
                {step.number}
              </div>
              <h3 class="mt-3 text-lg font-semibold text-gray-900">{step.title}</h3>
              {step.duration && (
                <p class="mt-1 text-xs font-medium text-gray-400">{step.duration}</p>
              )}
              <p class="mt-2 text-sm text-gray-600 leading-relaxed">{step.body}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    {/* Open Positions */}
    <section class="bg-gray-50 py-16 sm:py-20">
      <div id="open-positions" class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8">
        <h2 class="text-center text-2xl font-bold text-gray-900 sm:text-3xl">Open Positions</h2>
        <div class="mt-8 space-y-3">
          {OPEN_POSITIONS.map((position) => (
            <a
              href={position.href}
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center justify-between rounded-lg border border-gray-200 bg-white px-6 py-4 transition hover:shadow-md"
            >
              <span class="text-gray-900">
                {position.title} - <strong>{position.type}</strong>
              </span>
              <svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          ))}
        </div>
      </div>
    </section>
  </main>
</BaseLayout>
