---
/**
 * FormPlaceholder — renders a disabled form UI with a fallback CTA link.
 *
 * These forms don't submit anywhere — the Webflow-native form backend
 * is being replaced with a Cloudflare Worker post-launch.
 * For now the primary action routes users to /book-your-demo (Cal.com).
 */
import type { PlaceholderField } from "../../lib/formTypes";
import type { CtaLink } from "../../lib/marketingPageTypes";
import Button from "../Button.astro";

interface Props {
  fields: PlaceholderField[];
  submitLabel: string;
  fallbackCta: CtaLink;
  privacyHtml?: string;
}

const { fields, submitLabel, fallbackCta, privacyHtml } = Astro.props;
---

<div class="rounded-md border border-gray-200 bg-white p-6 shadow-sm sm:p-8">
  <p class="mb-6 text-sm text-gray-500">
    To book a demo right away, use our{" "}
    <a href="/book-your-demo" class="text-zenml-500 underline">calendar</a>.
  </p>

  <form class="space-y-4" onsubmit="return false;">
    {fields.map((field) => (
      <div>
        <label class="mb-1 block text-sm font-medium text-gray-700">
          {field.label}
          {field.required && <span class="text-red-500">*</span>}
        </label>

        {field.type === "select" && field.options ? (
          <select
            disabled
            class="w-full rounded-md border border-gray-300 bg-gray-50 px-4 py-2.5 text-sm text-gray-500"
          >
            {field.options.map((opt) => (
              <option value={opt.value}>{opt.label}</option>
            ))}
          </select>
        ) : field.type === "checkbox" ? (
          <label class="flex items-start gap-2 text-sm text-gray-600">
            <input
              type="checkbox"
              disabled
              class="mt-0.5 rounded border-gray-300"
            />
            <span set:html={field.placeholder ?? field.label} />
          </label>
        ) : (
          <input
            type={field.type as astroHTML.JSX.HTMLInputTypeAttribute}
            disabled
            placeholder={field.placeholder}
            class="w-full rounded-md border border-gray-300 bg-gray-50 px-4 py-2.5 text-sm text-gray-500 placeholder:text-gray-400"
          />
        )}
      </div>
    ))}

    {privacyHtml && <p class="text-xs text-gray-500" set:html={privacyHtml} />}

    <Button href={fallbackCta.href} class="w-full">
      {fallbackCta.label}
    </Button>
  </form>
</div>
