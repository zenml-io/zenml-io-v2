---
/**
 * FaqSection â€” prop-driven FAQ accordion.
 *
 * Unlike FAQAccordion.astro (which imports homepage data directly),
 * this component accepts all data via props. Uses native <details>/<summary>
 * for zero-JS accordion behavior.
 *
 * Used on /pricing, /pro, and other marketing pages.
 */
import type { FaqData } from "../../lib/marketingPageTypes";

interface Props extends FaqData {}

const { eyebrow, headline, subheadline, items, slackCta } = Astro.props;
---

<section class="bg-white py-16 sm:py-24">
  <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8">
    {/* Header */}
    <div class="text-center">
      {eyebrow && (
        <p class="text-sm font-semibold uppercase tracking-wider text-zenml-500">
          {eyebrow}
        </p>
      )}
      <h2 class="mt-2 text-3xl font-bold text-gray-900 sm:text-4xl">
        {headline}
      </h2>
      {subheadline && (
        <p class="mt-2 text-lg text-gray-600">{subheadline}</p>
      )}
    </div>

    {/* Accordion items */}
    <div class="mt-12 divide-y divide-gray-200 border-t border-gray-200">
      {items.map((item) => (
        <details class="group py-5">
          <summary class="flex cursor-pointer items-center justify-between text-left font-medium text-gray-900 [&::-webkit-details-marker]:hidden">
            <span>{item.question}</span>
            <svg
              class="ml-4 h-5 w-5 flex-shrink-0 text-gray-400 transition group-open:rotate-180"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </summary>
          <div class="mt-3 text-sm leading-relaxed text-gray-600" set:html={item.answer} />
        </details>
      ))}
    </div>

    {/* Optional CTA */}
    {slackCta && (
      <div class="mt-10 text-center">
        <a
          href={slackCta.href}
          target={slackCta.external ? "_blank" : undefined}
          rel={slackCta.external ? "noopener noreferrer" : undefined}
          class="text-sm font-semibold text-zenml-500 hover:text-zenml-600"
        >
          {slackCta.label} &rarr;
        </a>
      </div>
    )}
  </div>
</section>
