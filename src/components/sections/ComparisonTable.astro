---
/**
 * ComparisonTable — semantic HTML table for feature comparisons.
 *
 * Renders a responsive, accessible <table> with alternating row backgrounds.
 * Used on /open-source-vs-pro, /pricing, /deployments.
 */
import type { ComparisonTableData } from "../../lib/marketingPageTypes";

interface Props extends ComparisonTableData {}

const { eyebrow, headline, subheadline, columnHeaders, rows } = Astro.props;
---

<section class="bg-white py-16 sm:py-20">
  <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
    {/* Header */}
    <div class="mb-10 text-center">
      {eyebrow && (
        <p class="text-sm font-semibold uppercase tracking-wider text-zenml-500">
          {eyebrow}
        </p>
      )}
      <h2 class="mt-2 text-2xl font-bold text-gray-900 sm:text-3xl">
        {headline}
      </h2>
      {subheadline && (
        <p class="mt-2 text-lg text-gray-600">{subheadline}</p>
      )}
    </div>

    {/* Table wrapper — horizontal scroll on mobile */}
    <div class="-mx-4 overflow-x-auto px-4 sm:mx-0 sm:px-0">
      <table class="w-full min-w-[600px] border-collapse text-left">
        <thead>
          <tr class="border-b-2 border-gray-200">
            <th class="py-3 pr-4 text-sm font-semibold text-gray-500">Feature</th>
            {columnHeaders.map((header) => (
              <th class="py-3 px-4 text-center text-sm font-bold text-gray-900">
                {header}
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {rows.map((row, i) => (
            <tr class:list={[
              "border-b border-gray-100",
              i % 2 === 0 ? "bg-gray-50" : "bg-white",
            ]}>
              <td class="py-4 pr-4">
                <div class="font-medium text-gray-900">{row.feature}</div>
                {row.description && (
                  <div class="mt-0.5 text-sm text-gray-500">{row.description}</div>
                )}
              </td>
              {row.columns.map((value) => (
                <td class="px-4 py-4 text-center text-sm text-gray-600">
                  {value}
                </td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </div>
</section>
