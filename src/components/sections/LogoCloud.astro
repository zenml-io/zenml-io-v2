---
/**
 * LogoCloud â€” infinite-scrolling trust bar showing customer/partner logos.
 *
 * All 32 logos scroll continuously in a single row. The logo set is
 * duplicated in the DOM to create a seamless loop via CSS animation.
 * Pauses on hover. Faded edges mask the scroll boundaries.
 */
import { LOGO_CLOUD } from "../../lib/homepage";

const logos = LOGO_CLOUD.logos;
---

<section class="border-y border-gray-100 bg-gray-50 py-10 sm:py-12">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <p class="text-center text-sm font-medium text-gray-500">
      {LOGO_CLOUD.label}
    </p>
  </div>

  <!-- Marquee container -->
  <div class="logo-marquee-wrap group relative mt-8 overflow-hidden">
    <!-- Fade edges -->
    <div class="pointer-events-none absolute inset-y-0 left-0 z-10 w-16 bg-gradient-to-r from-gray-50 to-transparent sm:w-24"></div>
    <div class="pointer-events-none absolute inset-y-0 right-0 z-10 w-16 bg-gradient-to-l from-gray-50 to-transparent sm:w-24"></div>

    <div class="logo-marquee-track flex items-center gap-12 group-hover:[animation-play-state:paused] sm:gap-16">
      {/* Render logos twice for seamless loop */}
      {[...logos, ...logos].map((logo) => (
        <div class="flex h-10 w-[120px] flex-shrink-0 items-center justify-center">
          <img
            src={logo.src}
            alt={logo.name}
            class="max-h-9 max-w-[120px] object-contain opacity-60 grayscale transition hover:opacity-100 hover:grayscale-0"
            loading="lazy"
          />
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  @keyframes logo-scroll {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
  }
  .logo-marquee-track {
    animation: logo-scroll 45s linear infinite;
    width: max-content;
  }
  @media (prefers-reduced-motion: reduce) {
    .logo-marquee-track {
      animation: none;
      flex-wrap: wrap;
      justify-content: center;
      width: auto;
    }
  }
</style>
