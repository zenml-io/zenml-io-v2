---
/**
 * CompareFeatureHeader â€” feature comparison table section.
 *
 * Matches Webflow's feature-by-feature comparison: eyebrow, heading,
 * 3-column header row (Feature | ZenML | Competitor), and the HTML table
 * with tooltip-on-hover yes/no icons.
 *
 * Includes scoped CSS for table styling and tooltip behavior.
 */
interface Props {
  toolName: string;
  toolIcon?: { url: string; alt?: string };
  zenmlIconUrl: string;
  tableHtml: string;
  eyebrow?: string;
  headline?: string;
  anchorId?: string;
}

const {
  toolName,
  toolIcon,
  zenmlIconUrl,
  tableHtml,
  eyebrow = "Feature-by-feature comparison",
  headline = "Explore in Detail What Makes ZenML Unique",
  anchorId = "feature-comparison",
} = Astro.props;
---

<section id={anchorId} class="bg-white py-16 sm:py-20">
  <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-10">
      <p class="text-sm font-semibold uppercase tracking-wider text-zenml-500 mb-3">{eyebrow}</p>
      <h2 class="text-3xl font-bold text-gray-900 sm:text-4xl">{headline}</h2>
    </div>

    {/* Column header row */}
    <div class="mb-2 grid grid-cols-[2fr_1fr_1fr] items-center gap-4 rounded-t-lg bg-gray-50 px-6 py-4">
      <div class="text-base font-medium text-gray-700">Feature</div>
      <div class="flex items-center gap-2">
        <img src={zenmlIconUrl} alt="ZenML" width="28" height="28" class="rounded" />
        <span class="text-base font-medium text-zenml-600">ZenML</span>
      </div>
      <div class="flex items-center gap-2">
        {toolIcon && (
          <img src={toolIcon.url} alt={toolIcon.alt || toolName} width="28" height="28" class="rounded" />
        )}
        <span class="text-base font-medium text-gray-500">{toolName}</span>
      </div>
    </div>

    {/* Comparison table */}
    <div class="compare-table" set:html={tableHtml} />
  </div>
</section>

<style>
  /* Scoped table styling matching Webflow */
  .compare-table :global(table) {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
  }
  .compare-table :global(th),
  .compare-table :global(td) {
    padding: 10px;
    text-align: left;
  }
  .compare-table :global(tbody tr:nth-child(even)) {
    background-color: #f9fafb;
  }
  .compare-table :global(tbody tr:nth-child(odd)) {
    background-color: #ffffff;
  }
  .compare-table :global(tbody tr td) {
    color: #000;
    font-size: 18px;
    font-weight: 400;
    padding: 24px;
    border: none;
  }
  .compare-table :global(tbody tr td:first-child) {
    font-size: 20px;
    font-weight: 600;
  }
  .compare-table :global(tbody tr td:last-child) {
    color: #4b5563;
  }
  .compare-table :global(.tooltip) {
    position: relative;
    text-align: center;
  }
  .compare-table :global(.icon) {
    display: inline-block;
    width: 24px;
    height: 24px;
    background-size: contain;
    z-index: 0;
  }
  .compare-table :global(.yes) {
    background-image: url('https://uploads-ssl.webflow.com/64a817a2e7e2208272d1ce30/6673e3e6d6ccbd09a60e65ab_yes.svg');
  }
  .compare-table :global(.no) {
    background-image: url('https://uploads-ssl.webflow.com/64a817a2e7e2208272d1ce30/6673e3e65215e08bdedfdc58_no.svg');
  }
  .compare-table :global(.tooltip .tooltiptext) {
    visibility: hidden;
    background-color: #d9dbde;
    color: #000;
    text-align: center;
    border-radius: 5px;
    padding: 5px 10px;
    position: absolute;
    z-index: 100;
    bottom: 0;
    width: 100%;
    height: 100%;
    left: 0;
    opacity: 0;
    transition: opacity 0.3s;
    display: flex;
    align-content: center;
    justify-content: center;
    align-items: center;
  }
  .compare-table :global(.tooltip:hover .tooltiptext) {
    visibility: visible;
    opacity: 1;
  }

  /* Strip the wrapping div that some Webflow exports add */
  .compare-table :global([data-rt-embed-type]) {
    display: contents;
  }
</style>
